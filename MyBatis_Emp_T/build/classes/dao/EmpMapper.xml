<?xml version="1.0" encoding="UTF-8"?>
<!-- 마이바티스 3 Mapper DTD -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<!-- <mapper namespace="empMapper"> -->
<mapper namespace="dao.EmpDao">

	<select id="selectAll" resultType="dto.Emp">
		SELECT * FROM emp
		ORDER BY empno
	</select>
	
	<!-- dao에 있는 메소드가 mapper에 없으면 에러가 난다
	반대로 mapper에 있고 dao에 없는 경우는 괜찮음 -->
	<!-- dao에서 타입 정보가 있기 때문에 resultType, parameterType을 쓰지 않아도 동작하지만 써주는 것이 좋음 -->
	<select id="selectByEmpno" resultType="dto.Emp" parameterType="dto.Emp">
		SELECT * FROM emp
		WHERE empno = #{empno}
		<!-- #{empno}은 empno.getEmpno()을 호출한다 -->
	</select>
	
	<insert id="insert" parameterType="dto.Emp"><!-- resultType쓸 필요 없음 -->
		insert into emp (empno, ename, job, mgr, hiredate, sal, comm, deptno)
		values (#{ empno} ,#{ ename}, #{job}, #{ mgr}, #{hiredate}, #{ sal}, #{ comm}, #{ deptno})
		<!-- #{} : ''가 자동으로 들어감 String / ${} : ''가 자동으로 들어가지 않음 String x -->
	</insert>
	
	<delete id="deleteByEmpno" parameterType="dto.Emp">
		DELETE emp
		WHERE empno = #{empno}
	</delete>

</mapper>